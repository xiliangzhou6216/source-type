<!--
 * @Description: 
 * @Version: 2.0
 * @Autor: xiliang
 * @Date: 2021-06-10 13:58:48
 * @LastEditors: Please set LastEditors
 * @LastEditTime: 2021-07-12 17:37:19
-->
<!DOCTYPE html>
<html>

<head>
  <title>Vue.js github commits example</title>
  <style>
    #demo {
      font-family: 'Helvetica', Arial, sans-serif;
    }

    a {
      text-decoration: none;
      color: #f66;
    }

    li {
      line-height: 1.5em;
      margin-bottom: 20px;
    }

    .author,
    .date {
      font-weight: bold;
    }

  </style>
  <!-- Delete ".min" for console warnings in development -->
  <script src="../../dist/vue.js"></script>
</head>

<body>
  <div id="demo">
    <button @click="buttonClick">父组件触发</button>
  
    <!-- {{currentBranch}}
    {{qq}} -->
    <!-- <ceshi> </ceshi> -->
  </div>
  <script>
    const ComponentA ={
      name:"ComponentA",
      data(){
        return{
          a:1
        }
      },
      template: '<div>测试一下{{a}}</div>'
    }
    Vue.component('ceshi', {
      data() {
        return {
          // ss: 111,
          // a:1
        }
      },
      props: {
        childProps: {
          type: String,
          default: () => 'xiliang'
        }
      },

      template: `
        <div>
          <div>全局组件</div>
          <div>全局组件{{test()}}</div> 
        </div>
      `,
      components: {
        ComponentA
      },
      created() {
        console.log(this,'子级');
      },
      updated() {
        console.log(this,555555555);
      },
      watch: {
        qq(val){
        }
      },
      methods:{
        test(){
          return 1
        }
      },
      // computed: {
      //   now: function (val) {
      //     return Date.now()
      //   },
      //   qq: function () {
      //       return this.a + 1  
      //   }
      // }
    })

  </script>
  <script src="mock.js"></script>
  <script>

    /* global Vue */

    var apiURL = "https://api.github.com/repos/vuejs/vue/commits?per_page=3&sha=";
    /**
     * Actual demo
     */
    // debugger;
    new Vue({
      el: "#demo",

      data: {
        childProps: '121221',
        branches: ["master", "dev"],
        currentBranch: "master",
        message:'ggggg'
      },
      components: {
        // ComponentB
      },

      created: function () {
        // this.message = '123123123123213123'
        console.log(this,'父级');
        this.$on('test',function(val){
            console.log(val,55555555555555)
          })
      },
      watch: {
        message(val){
          console.log(val,666)
        }  
      },
      computed:{
        qq(){
          return 111
        }
      },
      methods: {
         buttonClick(){
         this.$emit('test', '333')
         this.$emit('test', 'h4444i')
          console.log(this,'更新了')
        }
      },
    });

  </script>
</body>

</html>
